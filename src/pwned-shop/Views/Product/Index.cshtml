@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860

*@
@{

    var products = (List<Product>)ViewData["Products"];
    var searched = (string)ViewData["Searched"];
    bool hotDeals = ViewData["hotdeals"] == null ? false : (bool)ViewData["hotdeals"];


}

@{
    ViewData["Title"] = "Games";
}

<div><img src="~/bannerImg/offersbanner.png" style="width:100%;"></div>
<br />
@if (searched == null)
{
    
    <div><img src="~/bannerImg/gallerybanner.png" style="width: 100%"></div>
}
<br>
<br>
<center>
    <form asp-action="Search" asp-controller="Product" method="post">
        <input class="searchInput" type="text" name="searchText" placeholder="Search title..." />
    </form>
</center>
<br>
@if (searched != null)
{
    <h3 style="margin: 5px 0 0 60px ;">
        You have searched for <b>"@searched" </b>
    </h3>
}
@if (hotDeals == true)
{
    <h3 style="margin: 5px 0 0 60px ;">
        Do not miss today's Smoking Hot Deals!!!'
    </h3>
}

<br>
<div class="row">
    @foreach (var game in products)
    {
        <div class="row">
            <div class="col">
                <div class="product-card">
                    <div class="product-images"><img src=@game.ImgURL></div>
                    <div class="product-info">
                        <h1 class="gamename">@game.ProductName</h1>
                        <h2 class="gamedes">@game.ProductDesc</h2>
                    </div>
                    @if (game.Discount != 0)
                    {
                        <div class="priceDiscount">S@((game.UnitPrice).ToString("C")) </div>
                        <div class="price">S@((game.UnitPrice * (1-game.Discount)).ToString("C")) </div>
                    }
                    else
                    {
                        <div class="price"> <br /> S@((game.UnitPrice).ToString("C")) </div>
                    }

                    <div><input type="button" class="addcart-button" value="Add to Cart" product-id="@game.Id" qty="1"></div>
                </div>
            </div>
        </div>
    }
</div>

